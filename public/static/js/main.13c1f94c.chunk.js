(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,a){e.exports=a(54)},31:function(e,t,a){},32:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(24),l=a.n(r),c=(a(31),a(5)),i=a(6),s=a(8),u=a(7),m=(a(32),function(){return o.a.createElement("div",{className:"jumbotron"},o.a.createElement("h1",null,"Home Page"))}),h=a(3),d=a(9),p=a.n(d),b=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={auth:{email:document.getElementById("email").value,password:document.getElementById("password").value}};Object(d.post)("/api/user_token",a).then((function(e){localStorage.setItem("jwt",e.data.jwt),t.props.history.push("/")})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Log In"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"Email: "),o.a.createElement("input",{name:"email",id:"email",type:"email",className:"form-control"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{name:"password",id:"password",type:"password",className:"form-control"})),o.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")))}}]),a}(n.Component),v=a(57),f=function(){return localStorage.removeItem("jwt"),o.a.createElement(v.a,{to:"/"})},g=a(17),E=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={posts:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="Bearer "+localStorage.getItem("jwt");p()({method:"get",url:"/api/posts",headers:{Authorization:t}}).then((function(t){e.setState({posts:t.data})})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.posts.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement("h2",null,o.a.createElement(g.a,{to:"/posts/".concat(e.id)},e.title)),e.content,o.a.createElement("hr",null))})),o.a.createElement(g.a,{to:"/posts/new",className:"btn btn-outline-primary"},"Create Post"))}}]),a}(n.Component),j=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={post:{}},e.handleDelete=e.handleDelete.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="Bearer "+localStorage.getItem("jwt");p()({method:"get",url:"/api/posts/".concat(this.props.match.params.id),headers:{Authorization:t}}).then((function(t){e.setState({post:t.data})})).catch((function(e){return console.log("error",e)}))}},{key:"handleDelete",value:function(){var e=this,t="Bearer "+localStorage.getItem("jwt");p()({method:"delete",url:"/api/posts/".concat(this.props.match.params.id),headers:{Authorization:t}}).then((function(){e.props.history.push("/posts")})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,this.state.post.id,": ",this.state.post.title),o.a.createElement("p",null,this.state.post.content),o.a.createElement("p",null,o.a.createElement(g.a,{to:"/posts/".concat(this.state.post.id,"/edit"),className:"btn btn-outline-dark"},"Edit"),o.a.createElement("button",{onClick:this.handleDelete,className:"btn btn-outline-dark"},"Delete"),o.a.createElement(g.a,{to:"/posts",className:"btn btn-outline-dark"},"Close")),o.a.createElement("hr",null))}}]),a}(n.Component),k=a(13),y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={title:"",content:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleCancel=e.handleCancel.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a="Bearer "+localStorage.getItem("jwt");p()({method:"post",url:"/api/posts",headers:{Authorization:a},data:this.state}).then((function(e){t.props.history.push("/posts/".concat(e.data.id))})).catch((function(e){return console.log("error",e)}))}},{key:"handleChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleCancel",value:function(){this.props.history.push("/posts")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Create Post"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange,className:"form-control"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Content"),o.a.createElement("textarea",{name:"content",rows:"5",value:this.state.content,onChange:this.handleChange,className:"form-control"})),o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Create"),o.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"btn btn-secondary"},"Cancel"))))}}]),a}(n.Component),C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={title:"",content:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleCancel=e.handleCancel.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="Bearer "+localStorage.getItem("jwt");p()({method:"get",url:"/api/posts/".concat(this.props.match.params.id),headers:{Authorization:t}}).then((function(t){e.setState(t.data)})).catch((function(e){return console.log("error",e)}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a="Bearer "+localStorage.getItem("jwt");p()({method:"patch",url:"/api/posts/".concat(this.state.id),headers:{Authorization:a},data:this.state}).then((function(){t.props.history.push("/posts/".concat(t.state.id))})).catch((function(e){return console.log("error",e)}))}},{key:"handleChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleCancel",value:function(){this.props.history.push("/posts/".concat(this.state.id))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Edit ",this.state.title),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange,className:"form-control"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Content"),o.a.createElement("textarea",{name:"content",rows:"5",value:this.state.content,onChange:this.handleChange,className:"form-control"})),o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Update"),o.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"btn btn-secondary"},"Cancel"))))}}]),a}(o.a.Component),w=a(58),N=a(56),O=a(59),S=a(25),x=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(w.a,null,o.a.createElement("div",{className:"container"},o.a.createElement(I,null),o.a.createElement(D,null)))}}]),a}(n.Component),I=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(N.a,{exact:!0,className:"nav-link",activeClassName:"active",to:"/"},"Home")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(N.a,{exact:!0,className:"nav-link",activeClassName:"active",to:"/posts"},"Posts")),localStorage.getItem("jwt")?o.a.createElement("li",{className:"nav-item"},o.a.createElement(N.a,{exact:!0,className:"nav-link",to:"/logout"},"Log Out")):o.a.createElement("li",{className:"nav-item"},o.a.createElement(N.a,{exact:!0,className:"nav-link",activeClassName:"active",to:"/login"},"Log In"))))},D=function(){return o.a.createElement(O.a,null,o.a.createElement(S.a,{exact:!0,path:"/",component:m}),o.a.createElement(S.a,{exact:!0,path:"/login",component:b}),o.a.createElement(S.a,{exact:!0,path:"/logout",component:f}),o.a.createElement(S.a,{exact:!0,path:"/posts",component:E}),o.a.createElement(S.a,{exact:!0,path:"/posts/new",component:y}),o.a.createElement(S.a,{exact:!0,path:"/posts/:id",component:j}),o.a.createElement(S.a,{exact:!0,path:"/posts/:id/edit",component:C}))},B=x,A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(o.a.createElement(B,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");A?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):z(e)}))}}()}},[[26,1,2]]]);
//# sourceMappingURL=main.13c1f94c.chunk.js.map