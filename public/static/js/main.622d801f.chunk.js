(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,a){e.exports=a(67)},42:function(e,t,a){},43:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(19),r=a.n(c),s=(a(42),a(7)),l=a(8),i=a(10),h=a(9),u=(a(43),a(33)),m=[{src:"https://source.unsplash.com/2ShvY8Lf6l0/800x599",width:4,height:3},{src:"https://source.unsplash.com/Dm-qxdynoEc/800x799",width:1,height:1},{src:"https://source.unsplash.com/qDkso9nvCg0/600x799",width:3,height:4},{src:"https://source.unsplash.com/iecJiKe_RNg/600x799",width:3,height:4},{src:"https://source.unsplash.com/epcsn8Ed8kY/600x799",width:3,height:4},{src:"https://source.unsplash.com/NQSWvyVRIJk/800x599",width:4,height:3},{src:"https://source.unsplash.com/zh7GEuORbUw/600x799",width:3,height:4},{src:"https://source.unsplash.com/PpOHJezOalU/800x599",width:4,height:3},{src:"https://source.unsplash.com/I1ASdgphUH4/800x599",width:4,height:3},{src:"https://source.unsplash.com/XiDA78wAZVw/600x799",width:3,height:4},{src:"https://source.unsplash.com/x8xJpClTvR0/800x599",width:4,height:3},{src:"https://source.unsplash.com/u9cG4cuJ6bU/4927x1000",width:4927,height:1e3},{src:"https://source.unsplash.com/qGQNmBE7mYw/800x599",width:4,height:3},{src:"https://source.unsplash.com/NuO6iTBkHxE/800x599",width:4,height:3},{src:"https://source.unsplash.com/pF1ug8ysTtY/600x400",width:4,height:3},{src:"https://source.unsplash.com/A-fubu9QJxE/800x533",width:4,height:3},{src:"https://source.unsplash.com/5P91SF0zNsI/740x494",width:4,height:3}],p=function(){return o.a.createElement("div",{className:"jumbotron"},o.a.createElement("h1",null,"Home Page"),o.a.createElement(u.a,{photos:m}))},d=a(3),b=a(11),v=a.n(b),g=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleSubmit=e.handleSubmit.bind(Object(d.a)(e)),e}return Object(l.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={auth:{email:document.getElementById("email").value,password:document.getElementById("password").value}};Object(b.post)("/api/user_token",a).then((function(e){localStorage.setItem("jwt",e.data.jwt),t.props.history.push("/")})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Log In"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"Email: "),o.a.createElement("input",{name:"email",id:"email",type:"email",className:"form-control"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{name:"password",id:"password",type:"password",className:"form-control"})),o.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")))}}]),a}(n.Component),f=a(14),E=function(){return localStorage.removeItem("jwt"),o.a.createElement(f.a,{to:"/"})},w=a(5),j=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={posts:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="Bearer "+localStorage.getItem("jwt");v()({method:"get",url:"/api/posts",headers:{Authorization:t}}).then((function(t){e.setState({posts:t.data})})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.posts.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement("h2",null,o.a.createElement(w.b,{to:"/posts/".concat(e.id)},e.title)),e.content,o.a.createElement("hr",null))})),o.a.createElement(w.b,{to:"/posts/new",className:"btn btn-outline-primary"},"Create Post"))}}]),a}(n.Component),k=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={post:{}},e.handleDelete=e.handleDelete.bind(Object(d.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="Bearer "+localStorage.getItem("jwt");v()({method:"get",url:"/api/posts/".concat(this.props.match.params.id),headers:{Authorization:t}}).then((function(t){e.setState({post:t.data})})).catch((function(e){return console.log("error",e)}))}},{key:"handleDelete",value:function(){var e=this,t="Bearer "+localStorage.getItem("jwt");v()({method:"delete",url:"/api/posts/".concat(this.props.match.params.id),headers:{Authorization:t}}).then((function(){e.props.history.push("/posts")})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,this.state.post.id,": ",this.state.post.title),o.a.createElement("p",null,this.state.post.content),o.a.createElement("p",null,o.a.createElement(w.b,{to:"/posts/".concat(this.state.post.id,"/edit"),className:"btn btn-outline-dark"},"Edit"),o.a.createElement("button",{onClick:this.handleDelete,className:"btn btn-outline-dark"},"Delete"),o.a.createElement(w.b,{to:"/posts",className:"btn btn-outline-dark"},"Close")),o.a.createElement("hr",null))}}]),a}(n.Component),y=a(17),C=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={title:"",content:""},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(d.a)(e)),e.handleCancel=e.handleCancel.bind(Object(d.a)(e)),e}return Object(l.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a="Bearer "+localStorage.getItem("jwt");v()({method:"post",url:"/api/posts",headers:{Authorization:a},data:this.state}).then((function(e){t.props.history.push("/posts/".concat(e.data.id))})).catch((function(e){return console.log("error",e)}))}},{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"handleCancel",value:function(){this.props.history.push("/posts")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Create Post"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange,className:"form-control"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Content"),o.a.createElement("textarea",{name:"content",rows:"5",value:this.state.content,onChange:this.handleChange,className:"form-control"})),o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Create"),o.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"btn btn-secondary"},"Cancel"))))}}]),a}(n.Component),N=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={title:"",content:""},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(d.a)(e)),e.handleCancel=e.handleCancel.bind(Object(d.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="Bearer "+localStorage.getItem("jwt");v()({method:"get",url:"/api/posts/".concat(this.props.match.params.id),headers:{Authorization:t}}).then((function(t){e.setState(t.data)})).catch((function(e){return console.log("error",e)}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a="Bearer "+localStorage.getItem("jwt");v()({method:"patch",url:"/api/posts/".concat(this.state.id),headers:{Authorization:a},data:this.state}).then((function(){t.props.history.push("/posts/".concat(t.state.id))})).catch((function(e){return console.log("error",e)}))}},{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"handleCancel",value:function(){this.props.history.push("/posts/".concat(this.state.id))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Edit ",this.state.title),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange,className:"form-control"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Content"),o.a.createElement("textarea",{name:"content",rows:"5",value:this.state.content,onChange:this.handleChange,className:"form-control"})),o.a.createElement("div",{className:"btn-group"},o.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Update"),o.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"btn btn-secondary"},"Cancel"))))}}]),a}(o.a.Component),O=function(e){Object(i.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement(w.a,null,o.a.createElement("div",{className:"container"},o.a.createElement(x,null),o.a.createElement(S,null)))}}]),a}(n.Component),x=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(w.c,{exact:!0,className:"nav-link",activeClassName:"active",to:"/"},"Home")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(w.c,{exact:!0,className:"nav-link",activeClassName:"active",to:"/posts"},"Posts")),localStorage.getItem("jwt")?o.a.createElement("li",{className:"nav-item"},o.a.createElement(w.c,{exact:!0,className:"nav-link",to:"/logout"},"Log Out")):o.a.createElement("li",{className:"nav-item"},o.a.createElement(w.c,{exact:!0,className:"nav-link",activeClassName:"active",to:"/login"},"Log In"))))},S=function(){return o.a.createElement(f.d,null,o.a.createElement(f.b,{exact:!0,path:"/",component:p}),o.a.createElement(f.b,{exact:!0,path:"/login",component:g}),o.a.createElement(f.b,{exact:!0,path:"/logout",component:E}),o.a.createElement(f.b,{exact:!0,path:"/posts",component:j}),o.a.createElement(f.b,{exact:!0,path:"/posts/new",component:C}),o.a.createElement(f.b,{exact:!0,path:"/posts/:id",component:k}),o.a.createElement(f.b,{exact:!0,path:"/posts/:id/edit",component:N}))},I=O,D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(o.a.createElement(I,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");D?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):B(e)}))}}()}},[[37,1,2]]]);
//# sourceMappingURL=main.622d801f.chunk.js.map